<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>dispositions-and-listings ‚Ä¢ sweets</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="dispositions-and-listings">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">sweets</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.0.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/disposition-tables.html">Disposition Tables</a></li>
    <li><a class="dropdown-item" href="../articles/dispositions-and-listings.html">dispositions-and-listings</a></li>
  </ul>
</li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>dispositions-and-listings</h1>
            
      

      <div class="d-none name"><code>dispositions-and-listings.Rmd</code></div>
    </div>

    
    
<style type="text/css">
pre, code {white-space:pre !important; overflow-x:auto}
</style>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://shum461.github.io/sweets/">sweets</a></span><span class="op">)</span></span>
<span><span class="co">#&gt; Welcome üç© to üç∞ sweets üç≠</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://simulations-plus.github.io/dmcognigen/" class="external-link">dmcognigen</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org" class="external-link">dplyr</a></span>,warn.conflicts <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></code></pre></div>
<div class="callout-note">
<p>During the data build records are flagged with a deletion flag
variable called DELFN and removed. Records that have been removed are
stored in the delimp directory. To do the disposition counts the removed
records are added back to the data build. For this vignette we are
starting at this step where deleted delimp records have already been
added back to the built analysis ready dataset.</p>
</div>
<div class="section level2">
<h2 id="load-a-dataset">1) Load a dataset<a class="anchor" aria-label="anchor" href="#load-a-dataset"></a>
</h2>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">broken_pk</span>, package <span class="op">=</span> <span class="st">"sweets"</span><span class="op">)</span></span></code></pre></div>
<div class="section level3">
<h3 id="check-the-deletion-flags-">Check the deletion flags.<a class="anchor" aria-label="anchor" href="#check-the-deletion-flags-"></a>
</h3>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="va">broken_pk</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://simulations-plus.github.io/dmcognigen/reference/cnt.html" class="external-link">cnt</a></span><span class="op">(</span><span class="va">DELFN</span>,<span class="va">DELFNC</span>,prop <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 6 √ó 4</span></span></span>
<span><span class="co">#&gt;   DELFN DELFNC                                         n n_cumulative</span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>                                      <span style="color: #949494; font-style: italic;">&lt;int&gt;</span>        <span style="color: #949494; font-style: italic;">&lt;int&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span>     0 Analysis Record                             <span style="text-decoration: underline;">2</span>320         <span style="text-decoration: underline;">2</span>320</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span>     7 Placebo Group Not Included in the Analysis  <span style="text-decoration: underline;">1</span>204         <span style="text-decoration: underline;">3</span>524</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span>     9 Missing Concentration Value                    8         <span style="text-decoration: underline;">3</span>532</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">4</span>    10 Missing Sample Date and/or Time                8         <span style="text-decoration: underline;">3</span>540</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">5</span>    14 Missing Dose Date or Time                     14         <span style="text-decoration: underline;">3</span>554</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">6</span>    50 Analyst-Identified Outliers                    2         <span style="text-decoration: underline;">3</span>556</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="check-dvid">Check DVID<a class="anchor" aria-label="anchor" href="#check-dvid"></a>
</h3>
<p>We want to track and count the removal of
<strong>concentration</strong> records, not <strong>dose</strong>
records (i.e.¬†DVID=0 &amp; EVID=1). DELFN = 0 are records kept for the
analysis ready dataset build. Records with Non zero DELFN were removed,
stored in delimp and combined back for the disposition and listings.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="va">broken_pk</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://simulations-plus.github.io/dmcognigen/reference/cnt.html" class="external-link">cnt</a></span><span class="op">(</span><span class="va">DVID</span>,<span class="va">DVIDC</span>,prop <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 2 √ó 4</span></span></span>
<span><span class="co">#&gt;    DVID DVIDC                                n n_cumulative</span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>                            <span style="color: #949494; font-style: italic;">&lt;int&gt;</span>        <span style="color: #949494; font-style: italic;">&lt;int&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span>     0 Dose                               254          254</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span>     1 Xanomeline Concentration (ug/mL)  <span style="text-decoration: underline;">3</span>302         <span style="text-decoration: underline;">3</span>556</span></span></code></pre></div>
<p>For the deletions that involve dose records, deletion flags are
carried from the dose record (DVID=0, EVID=1) onto the affected
concentration records (DVID=1) after the dose record of concern. Here we
see all the concentration records after the missing dose DTTM have flag
14.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="va">broken_pk</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>    <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html" class="external-link">group_by</a></span><span class="op">(</span><span class="va">USUBJID</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>    <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/any.html" class="external-link">any</a></span><span class="op">(</span><span class="va">DELFN</span><span class="op">==</span><span class="fl">14</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>    <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">USUBJID</span>,<span class="va">DTTM</span>,<span class="va">DVID</span>,<span class="va">TSFD</span>,<span class="va">DELFN</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 14 √ó 5</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># Groups:   USUBJID [1]</span></span></span>
<span><span class="co">#&gt;    USUBJID     DTTM                 DVID    TSFD DELFN</span></span>
<span><span class="co">#&gt;    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>       <span style="color: #949494; font-style: italic;">&lt;dttm&gt;</span>              <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span> 01-709-1326 <span style="color: #BB0000;">NA</span>                      0  0         14</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span> 01-709-1326 2013-04-05 <span style="color: #949494;">00:05:00</span>     1  0.083<span style="text-decoration: underline;">3</span>    14</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span> 01-709-1326 2013-04-05 <span style="color: #949494;">00:30:00</span>     1  0.5       14</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span> 01-709-1326 2013-04-05 <span style="color: #949494;">01:00:00</span>     1  1         14</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span> 01-709-1326 2013-04-05 <span style="color: #949494;">01:30:00</span>     1  1.5       14</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span> 01-709-1326 2013-04-05 <span style="color: #949494;">02:00:00</span>     1  2         14</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span> 01-709-1326 2013-04-05 <span style="color: #949494;">04:00:00</span>     1  4         14</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span> 01-709-1326 2013-04-05 <span style="color: #949494;">06:00:00</span>     1  6         14</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span> 01-709-1326 2013-04-05 <span style="color: #949494;">08:00:00</span>     1  8         14</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">10</span> 01-709-1326 2013-04-05 <span style="color: #949494;">12:00:00</span>     1 12         14</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">11</span> 01-709-1326 2013-04-05 <span style="color: #949494;">16:00:00</span>     1 16         14</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">12</span> 01-709-1326 2013-04-06 <span style="color: #949494;">00:00:00</span>     1 24         14</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">13</span> 01-709-1326 2013-04-06 <span style="color: #949494;">12:00:00</span>     1 36         14</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">14</span> 01-709-1326 2013-04-07 <span style="color: #949494;">00:00:00</span>     1 48         14</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="subset-the-data-build-to-concentration-i-e--sample-records-only">2) Subset the data build to concentration i.e.¬†sample records
only<a class="anchor" aria-label="anchor" href="#subset-the-data-build-to-concentration-i-e--sample-records-only"></a>
</h2>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="va">broken_pk_samples</span> <span class="op">&lt;-</span> </span>
<span>  <span class="va">broken_pk</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">EVID</span><span class="op">==</span><span class="fl">0</span><span class="op">)</span></span></code></pre></div>
<p>Just concentration records are left</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">broken_pk_samples</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://simulations-plus.github.io/dmcognigen/reference/cnt.html" class="external-link">cnt</a></span><span class="op">(</span><span class="va">DVID</span>,<span class="va">DVIDC</span>,prop <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 1 √ó 4</span></span></span>
<span><span class="co">#&gt;    DVID DVIDC                                n n_cumulative</span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>                            <span style="color: #949494; font-style: italic;">&lt;int&gt;</span>        <span style="color: #949494; font-style: italic;">&lt;int&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span>     1 Xanomeline Concentration (ug/mL)  <span style="text-decoration: underline;">3</span>302         <span style="text-decoration: underline;">3</span>302</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="make-a-disposition-table">3) Make a disposition table<a class="anchor" aria-label="anchor" href="#make-a-disposition-table"></a>
</h2>
<p>Here we are splitting by STUDYID</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="va">disposition_table</span> <span class="op">&lt;-</span> <span class="va">broken_pk_samples</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/sweet_disposition.html">sweet_disposition</a></span><span class="op">(</span>subjid <span class="op">=</span> <span class="va">USUBJID</span>,group_vars <span class="op">=</span> <span class="va">STUDYID</span><span class="op">)</span> </span>
<span></span>
<span><span class="va">disposition_table</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span>n <span class="op">=</span> <span class="fl">15</span>,width <span class="op">=</span> <span class="cn">Inf</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 12 √ó 8</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># Groups:   STUDYID [2]</span></span></span>
<span><span class="co">#&gt;    `Flag #` `Reason for Deletion`                      STUDYID      `Samples Excluded` `Subjects Affected` `Subjects Excluded` `Remaining Samples` `Remaining Subjects`</span></span>
<span><span class="co">#&gt;       <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>                                      <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>                     <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>               <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>               <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>               <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>                <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span>        0 Concentration Records Received             CDISCPILOT01                  0                   0                   0                <span style="text-decoration: underline;">2</span>028                  156</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span>        0 Concentration Records Received             CDISCPILOT02                  0                   0                   0                <span style="text-decoration: underline;">1</span>274                   98</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span>        7 Placebo Group Not Included in the Analysis CDISCPILOT01                689                  53                  53                <span style="text-decoration: underline;">1</span>339                  103</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span>        7 Placebo Group Not Included in the Analysis CDISCPILOT02                429                  33                  33                 845                   65</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span>        9 Missing Concentration Value                CDISCPILOT01                  8                   2                   0                <span style="text-decoration: underline;">1</span>331                  103</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span>        9 Missing Concentration Value                CDISCPILOT02                  0                   0                   0                 845                   65</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span>       10 Missing Sample Date and/or Time            CDISCPILOT01                  8                   2                   0                <span style="text-decoration: underline;">1</span>323                  103</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span>       10 Missing Sample Date and/or Time            CDISCPILOT02                  0                   0                   0                 845                   65</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span>       14 Missing Dose Date or Time                  CDISCPILOT01                  0                   0                   0                <span style="text-decoration: underline;">1</span>323                  103</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">10</span>       14 Missing Dose Date or Time                  CDISCPILOT02                 13                   1                   1                 832                   64</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">11</span>       50 Analyst-Identified Outliers                CDISCPILOT01                  1                   1                   0                <span style="text-decoration: underline;">1</span>322                  103</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">12</span>       50 Analyst-Identified Outliers                CDISCPILOT02                  1                   1                   0                 831                   64</span></span></code></pre></div>
<p>Someone changed their mind and now we want to keep DELFN 50
(Analyst-Identified Outliers) records in the dataset. Let‚Äôs set DELFN 50
as a ‚Äòcount and keep‚Äô flag. Notice how the 2 samples that were
previously removed are now only ‚ÄòAffected‚Äô and not ‚ÄòExcluded‚Äô</p>
<p>}</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="va">broken_pk_samples</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/sweet_disposition.html">sweet_disposition</a></span><span class="op">(</span>subjid <span class="op">=</span> <span class="va">USUBJID</span>,</span>
<span>                    group_vars <span class="op">=</span> <span class="va">STUDYID</span>,</span>
<span>                    cnt_n_keeps <span class="op">=</span> <span class="fl">50</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span>n <span class="op">=</span> <span class="fl">15</span>,width <span class="op">=</span> <span class="cn">Inf</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 12 √ó 8</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># Groups:   STUDYID [2]</span></span></span>
<span><span class="co">#&gt;    `Flag #` `Reason for Deletion`                      STUDYID      `Samples Excluded` `Subjects Affected` `Subjects Excluded` `Remaining Samples` `Remaining Subjects`</span></span>
<span><span class="co">#&gt;       <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>                                      <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>                     <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>               <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>               <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>               <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>                <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span>        0 Concentration Records Received             CDISCPILOT01                  0                   0                   0                <span style="text-decoration: underline;">2</span>028                  156</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span>        0 Concentration Records Received             CDISCPILOT02                  0                   0                   0                <span style="text-decoration: underline;">1</span>274                   98</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span>        7 Placebo Group Not Included in the Analysis CDISCPILOT01                689                  53                  53                <span style="text-decoration: underline;">1</span>339                  103</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span>        7 Placebo Group Not Included in the Analysis CDISCPILOT02                429                  33                  33                 845                   65</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span>        9 Missing Concentration Value                CDISCPILOT01                  8                   2                   0                <span style="text-decoration: underline;">1</span>331                  103</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span>        9 Missing Concentration Value                CDISCPILOT02                  0                   0                   0                 845                   65</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span>       10 Missing Sample Date and/or Time            CDISCPILOT01                  8                   2                   0                <span style="text-decoration: underline;">1</span>323                  103</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span>       10 Missing Sample Date and/or Time            CDISCPILOT02                  0                   0                   0                 845                   65</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span>       14 Missing Dose Date or Time                  CDISCPILOT01                  0                   0                   0                <span style="text-decoration: underline;">1</span>323                  103</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">10</span>       14 Missing Dose Date or Time                  CDISCPILOT02                 13                   1                   1                 832                   64</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">11</span>       50 Analyst-Identified Outliers                CDISCPILOT01                  0                   1                   0                <span style="text-decoration: underline;">1</span>323                  103</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">12</span>       50 Analyst-Identified Outliers                CDISCPILOT02                  0                   1                   0                 832                   64</span></span></code></pre></div>
<div class="section level3">
<h3 id="pool-disposition">Pool disposition<a class="anchor" aria-label="anchor" href="#pool-disposition"></a>
</h3>
<p>pooling a disposition with pool_disposition() will ignore any group
stratification set in your disposition table and add a Grand Total
row.</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="va">pooled_disposition</span> <span class="op">&lt;-</span> <span class="va">disposition_table</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/pool_disposition.html">pool_disposition</a></span><span class="op">(</span><span class="op">)</span> </span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">‚Ñπ</span> Grand Total of `Subjects Affected` is unique subjects affected</span></span>
<span></span>
<span><span class="va">pooled_disposition</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span>n <span class="op">=</span> <span class="fl">15</span>, width <span class="op">=</span> <span class="cn">Inf</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 7 √ó 6</span></span></span>
<span><span class="co">#&gt;   `Reason for Deletion`                      `Samples Excluded` `Subjects Affected` `Subjects Excluded` `Remaining Samples` `Remaining Subjects`</span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>                                                   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>               <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>               <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>               <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>                <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> Concentration Records Received                              0                   0                   0                <span style="text-decoration: underline;">3</span>302                  254</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span> Placebo Group Not Included in the Analysis               <span style="text-decoration: underline;">1</span>118                  86                  86                <span style="text-decoration: underline;">2</span>184                  168</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span> Missing Concentration Value                                 8                   2                   0                <span style="text-decoration: underline;">2</span>176                  168</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">4</span> Missing Sample Date and/or Time                             8                   2                   0                <span style="text-decoration: underline;">2</span>168                  168</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">5</span> Missing Dose Date or Time                                  13                   1                   1                <span style="text-decoration: underline;">2</span>155                  167</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">6</span> Analyst-Identified Outliers                                 2                   2                   0                <span style="text-decoration: underline;">2</span>153                  167</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">7</span> Grand Total                                              <span style="text-decoration: underline;">1</span>149                  93                  87                <span style="text-decoration: underline;">2</span>153                  167</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="filtered-disposition">Filtered disposition<a class="anchor" aria-label="anchor" href="#filtered-disposition"></a>
</h3>
<p>For most projects it makes sense to include a ‚Äúreport‚Äù version of the
disposition table with only DELFN greater than 7</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="va">report_disposition</span> <span class="op">&lt;-</span> <span class="va">disposition_table</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">`Flag #`</span><span class="op">&gt;</span> <span class="fl">7</span><span class="op">)</span> </span>
<span></span>
<span><span class="va">report_disposition</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span>n <span class="op">=</span> <span class="fl">15</span>, width <span class="op">=</span> <span class="cn">Inf</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 8 √ó 8</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># Groups:   STUDYID [2]</span></span></span>
<span><span class="co">#&gt;   `Flag #` `Reason for Deletion`           STUDYID      `Samples Excluded` `Subjects Affected` `Subjects Excluded` `Remaining Samples` `Remaining Subjects`</span></span>
<span><span class="co">#&gt;      <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>                           <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>                     <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>               <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>               <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>               <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>                <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span>        9 Missing Concentration Value     CDISCPILOT01                  8                   2                   0                <span style="text-decoration: underline;">1</span>331                  103</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span>        9 Missing Concentration Value     CDISCPILOT02                  0                   0                   0                 845                   65</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span>       10 Missing Sample Date and/or Time CDISCPILOT01                  8                   2                   0                <span style="text-decoration: underline;">1</span>323                  103</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">4</span>       10 Missing Sample Date and/or Time CDISCPILOT02                  0                   0                   0                 845                   65</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">5</span>       14 Missing Dose Date or Time       CDISCPILOT01                  0                   0                   0                <span style="text-decoration: underline;">1</span>323                  103</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">6</span>       14 Missing Dose Date or Time       CDISCPILOT02                 13                   1                   1                 832                   64</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">7</span>       50 Analyst-Identified Outliers     CDISCPILOT01                  1                   1                   0                <span style="text-decoration: underline;">1</span>322                  103</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">8</span>       50 Analyst-Identified Outliers     CDISCPILOT02                  1                   1                   0                 831                   64</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="write-disposition">Write disposition<a class="anchor" aria-label="anchor" href="#write-disposition"></a>
</h3>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="va">disposition_tabs</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="st">"pooled"</span><span class="op">=</span> <span class="va">pooled_disposition</span>,</span>
<span>                         <span class="st">"report"</span><span class="op">=</span> <span class="va">report_disposition</span>,</span>
<span>                         <span class="st">"programmer"</span><span class="op">=</span> <span class="va">disposition_table</span>,</span>
<span>                         <span class="op">)</span></span>
<span></span>
<span><span class="fu">writexl</span><span class="fu">::</span><span class="fu"><a href="https://docs.ropensci.org/writexl//reference/write_xlsx.html" class="external-link">write_xlsx</a></span><span class="op">(</span><span class="va">disposition_tabs</span>,<span class="st">"disposition.xlsx"</span><span class="op">)</span></span></code></pre></div>
<div class="callout-warning">
<p>It is best practice to refer back to the counts in your code and
check the results against your newly generated disposition table</p>
</div>
</div>
</div>
<div class="section level2">
<h2 id="deletion-listings">Deletion Listings<a class="anchor" aria-label="anchor" href="#deletion-listings"></a>
</h2>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Steve Hummel.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer>
</div>





  </body>
</html>
